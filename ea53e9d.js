(window.webpackJsonp=window.webpackJsonp||[]).push([[73,72],{1070:function(t,e,r){},1107:function(t,e,r){"use strict";r(1070)},1123:function(t,e,r){"use strict";r.r(e);var o=r(2),n=(r(11),r(1)),c=r(1090),l=r(1053),f=r(1058),d=r(1049),m=r(4);function C(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function O(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?C(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):C(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var R={name:"RatingsCatalogue",components:{RatingCatalogueFilters:r(1057).default,CategoriesRating:c.a,RatingsCatalogueBanner:f.default,SkeletonSpecialOffersCategories:l.default},layout:"mainHeaderRating",head:{title:"Рейтинг товаров в «Пятёрочке»"},mixins:[d.a],middleware:function(t){var e=t.store,r=t.$cookies.get("selectedStore");r&&e.commit("setSpecialOffersFilter",{selectedStore:r})},fetch:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.$route.params.compilation,o=t.$route.params.item,r&&(t.setRatingsCatalogueProp({isRatingCompilationPage:!0}),t.setRatingsCatalogueFilter({category:r})),o&&t.setRatingsCatalogueProp({isRatingItemPage:!0}),e.t0=t,e.next=8,t.LoadMain("settingsCompilationDataLoad",{requestOptions:{timeout:1e4}},!1);case 8:return e.t1=e.sent,e.t2={wait:!0,func:e.t1,label:"settingsCompilationDataLoad"},e.next=12,t.LoadMain("indexPage/getSelectionsIndexPage",{requestOptions:{timeout:1e4}},!1);case 12:return e.t3=e.sent,e.t4={wait:!0,func:e.t3},e.next=16,t.LoadMain("getCategoriesRatingsCatalogue",{requestOptions:{timeout:1e4}},!0);case 16:return e.t5=e.sent,e.t6={wait:!0,func:e.t5},e.t7={wait:!1,func:t.LoadMain("loadRatingCatalogueEmptyItems",{},!1)},e.t8=[e.t2,e.t4,e.t6,e.t7],e.next=22,e.t0.loadPageContent.call(e.t0,e.t8);case 22:t.setErrorBottom(""),e.next=28;break;case 25:e.prev=25,e.t9=e.catch(0),t.setErrorBottom(e.t9);case 28:case"end":return e.stop()}}),e,null,[[0,25]])})))()},data:function(){return{errorLocation:!1}},computed:O(O({},Object(m.e)({categories:function(t){return t.ratings.categoriesRatingsCatalogue},categoriesLoaded:function(t){return t.ratings.categoriesRatingsCatalogueLoaded},isRatingCompilationPage:function(t){return t.ratings.isRatingCompilationPage}})),Object(m.c)({hideCategories:"HideCategoriesForSearchRatings"})),methods:O(O({},Object(m.d)({setStoresProp:"setStoresProp",setRatingsCatalogueFilter:"setRatingsCatalogueFilter",setRatingsCatalogueProp:"setRatingsCatalogueProp",resetAllFilters:"resetAllFiltersRatings"})),{},{reloadPage:function(){location.reload()},setErrorBottom:function(t){this.showErrorBottom=t.message}}),beforeDestroy:function(){this.resetAllFilters(),this.setStoresProp({storesNotLoaded:!1,categoriesRatingsCatalogue:[]})}},P=(r(1107),r(0)),component=Object(P.a)(R,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("main",{staticClass:"special-offers-page"},[r("ratings-catalogue-banner",{staticClass:"banner"}),t._v(" "),r("div",{staticClass:"banner-warning"},[r("img",{staticClass:"warning-image",attrs:{src:t.$config.imgPath+"/warning-square.svg",alt:"warning-square"}}),t._v("\n    Рейтинг товаров сформирован из оценок с января по март 2022 года.\n  ")]),t._v(" "),r("div",{staticClass:"page-container"},[r("div",{staticClass:"grid-wrap"},[r("div",{staticClass:"col-12"},[t.isRatingCompilationPage?t._e():r("rating-catalogue-filters",{staticClass:"filters",attrs:{"is-rating-compilation-page":t.isRatingCompilationPage}})],1),t._v(" "),r("transition",{attrs:{name:"fade"}},[t.hideCategories?t._e():r("div",{staticClass:"col-4 d-md-none"},[t.categories.length&&t.categoriesLoaded?r("categories-rating"):r("skeleton-special-offers-categories")],1)]),t._v(" "),r("div",{staticClass:"col-md-12",class:t.hideCategories?"col-12":"col-8"},[r("rating-catalogue-items",{attrs:{"full-width":t.hideCategories,"is-rating-compilation-page":t.isRatingCompilationPage},on:{error:t.setErrorBottom}})],1)],1),t._v(" "),t.showErrorBottom?r("error-bottom",{attrs:{button:"Обновить",action:t.reloadPage}},[t._t("default",[t._v(t._s(t.showErrorBottom))])],2):t._e()],1)],1)}),[],!1,null,"53cb90f1",null);e.default=component.exports;installComponents(component,{RatingsCatalogueBanner:r(1058).default,RatingCatalogueFilters:r(1057).default,SkeletonSpecialOffersCategories:r(1053).default,RatingCatalogueItems:r(1092).default,ErrorBottom:r(1046).default})},1901:function(t,e,r){"use strict";r.r(e);var o=r(2),n=r(1123),c=r(4);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var f={name:"RatingsSelection",components:{Ratings:n.default},layout:"mainHeaderRating",methods:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(c.d)({setRatingsCatalogueFilter:"setRatingsCatalogueFilter",setRatingsCatalogueProp:"setRatingsCatalogueProp"})),beforeRouteLeave:function(t,e,r){this.setRatingsCatalogueFilter({category:""}),this.setRatingsCatalogueProp({isRatingCompilationPage:!1}),r()}},d=r(0),component=Object(d.a)(f,(function(){var t=this.$createElement;return(this._self._c||t)("ratings")}),[],!1,null,null,null);e.default=component.exports}}]);